<!DOCTYPE html>
@{
    ViewData["Title"] = "Broker Registration";
}

@model VendorReg2
@using Microsoft.AspNetCore.Http;

@section css {
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="@Url.Content("~/css/registrationstyle.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/css/nav.css")" rel="stylesheet" type="text/css" />
}

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $('#UserAreaInput').change(function() {
                if ($(this).val() == 'Other'){
                    $('#addformarea').after( $("<div class='form-group' id='otherboxarea'><label for='Other'>Please enter Other home area to be featured below.</label><textarea class='form-control' type='text' id='Other' placeholder='Enter Other Home Area' rows='1'></textarea></div>") );
                } else if ($(this).val() != 'Other'){
                    $("#otherboxarea").hide(function(){
                })

                }
            });
            $('#UserBusinessInput').change(function() {

                if ($(this).val() == 'Other'){
                    $('#addformbus').after( $("<div class='form-group' id='otherboxbus'><label for='Other'>Please enter other business category below.</label><textarea class='form-control' type='text' id='Other' placeholder='Enter Other Home Area' rows='1'></textarea></div>") );
                } else if ($(this).val() != 'Other'){
                    $("#otherboxbus").hide(function(){
                })

                }
            });
        });
    </script>
</head>

<header>
  <img src="../images/white-nosub-inflogo.png" alt="logo" class="white-logo">
  <input type="checkbox" id="nav-toggle" class="nav-toggle">
  <nav>
    <ul>
        <li><a href="/dashboard">Home</a></li>
        <li><a class="" href="broker-registration">Broker Sign Up</a></li>
        <li><a class="login text-white" href="#loginModal" data-toggle="modal">Log In</a></li>
    </ul>
  </nav>
  <label for="nav-toggle" class="nav-toggle-label">
      <span></span>
  </label>
</header>
<div id="container"> 
    
    
    <div class="regbox2">
        <h4>Please select one or more Featured Home Areas and a Business Category to complete your registration.</h4>
        <form role="form" action="/vendor-registration2" method="POST">
            <div class="form-group" id="addformarea">
                <span class="errorMsgs" asp-validation-for="UserAreaInput"></span>
                <label class="regLabels" for="UserAreaInput">Featured Home Area</label>
                <select class="form-control" asp-for="UserAreaInput" id="UserAreaInput" placeholder="Please select one">
                    <option value="" disabled multiple selected="selected">Please select one or more home areas</option>

                    <!-- make it select multiple and make it a list of area of house options maybe? Or change value to area of house ID and do that in the backend -->
                    <!-- now we can loop through _context.areas for this, I will just have to add it to the view model -->
                    @{
                        foreach (Area homeArea in @ViewBag.AreaOfHouse)
                        {
                            <option value="@homeArea.area">@homeArea.area</option>
                        }
                    }
                    
                </select>
            </div>

            <div class="form-group" id="addformbus">
                <span class="errorMsgs" asp-validation-for="UserBusinessInput"></span>
                <label class="regLabels" for="UserBusinessInput">Business Category</label>
                <select class="form-control" asp-for="UserBusinessInput" id="UserBusinessInput" placeholder="Please select one">
                    <option value="" disabled multiple selected="selected">Please select one</option>
                    @{
                        foreach (Business busCat in @ViewBag.BusinessCategory){
                            <option value="@busCat.business">@busCat.business</option>
                        }
                    }
                    
                </select>
            </div>  
            <button type="submit" class="btn btn-primary">Save and continue</button>                
        </form>
    </div>    
</div>
<div id="loginModal" class="modal fade" role="form">
    <div class="modal-dialog">
        <!-- Login Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="exampleModalLabel">Login</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form role="form" action="/dashboard" method="get">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="usrname">Username</label>
                        <input type="text" class="form-control" id="usrname" placeholder="Enter email">
                    </div>
                    <div class="form-group">
                        <label for="psw">Password</label>
                        <input type="text" class="form-control" id="psw" placeholder="Enter password">
                    </div>
                        <div class="checkbox">
                        <label><input type="checkbox" value="" checked>Remember me</label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Login</button>
                </div>
            </form>
        </div> 
    </div>
</div>